/*! For license information please see index.js.LICENSE.txt */
(()=>{var __webpack_modules__={"../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./src/components/promo-code/index.scss":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ "../../node_modules/css-loader/dist/runtime/noSourceMaps.js");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ "../../node_modules/css-loader/dist/runtime/api.js");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  font-family: var(--wh-font-family);\n  box-sizing: border-box;\n}\n\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n:host {\n  display: flex;\n  flex-wrap: wrap;\n  --discount-blue-color: #1e88e5;\n}\n\n.add-code-btn {\n  color: var(--discount-blue-color);\n  border: none;\n  border-radius: 4px;\n  padding: 3px 2px;\n  background: none;\n  cursor: pointer;\n  font-size: 14px;\n}\n.add-code-btn:hover {\n  background-color: rgba(30, 136, 229, 0.0980392157);\n}\n\n.add-promo-input-container {\n  display: flex;\n  flex-wrap: wrap;\n}\n.add-promo-input-container .input-wrapper {\n  position: relative;\n}\n.add-promo-input-container .input-wrapper .promo-input {\n  flex-grow: 1;\n  margin-right: 4px;\n  padding: 10px 36px 10px 10px;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  outline: var(--wh-primary-color) auto 1px;\n}\n.add-promo-input-container .input-wrapper .apply-btn {\n  background-color: transparent;\n  color: var(--discount-blue-color);\n  border: none;\n  cursor: pointer;\n  position: absolute;\n  right: 10px;\n  height: 100%;\n}\n.add-promo-input-container .input-wrapper .apply-btn webhighlights-loading {\n  --spinner-color: var(--discount-blue-color);\n}\n.add-promo-input-container .input-wrapper .apply-btn.focus-visible {\n  outline: none;\n}\n.add-promo-input-container .input-wrapper .apply-btn:focus-visible {\n  outline: none;\n}\n.add-promo-input-container .error-hint {\n  color: #dc2727;\n  font-size: 12px;\n  width: 100%;\n  margin-top: 4px;\n}\n\n.promo-tag {\n  display: flex;\n  background-color: hsla(0, 0%, 10%, 0.05);\n  color: var(--wh-text);\n  padding: 8px 10px;\n  font-size: 14px;\n  border-radius: 6px;\n}\n.promo-tag webhighlights-icon {\n  cursor: pointer;\n  color: #697386;\n  margin-left: 8px;\n}\n.promo-tag webhighlights-icon:hover {\n  color: var(--wh-text);\n}\n\n.promo-tag-subinfo {\n  font-size: 12px;\n  color: hsla(0, 0%, 10%, 0.5);\n  width: 100%;\n  padding: 2px 6px;\n}`, ""]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://@webhighlights/shared-components/./src/components/promo-code/index.scss?../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js')},"../../node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";eval('\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = "";\n      var needLayer = typeof item[5] !== "undefined";\n      if (item[4]) {\n        content += "@supports (".concat(item[4], ") {");\n      }\n      if (item[2]) {\n        content += "@media ".concat(item[2], " {");\n      }\n      if (needLayer) {\n        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += "}";\n      }\n      if (item[2]) {\n        content += "}";\n      }\n      if (item[4]) {\n        content += "}";\n      }\n      return content;\n    }).join("");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === "string") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== "undefined") {\n        if (typeof item[5] === "undefined") {\n          item[5] = layer;\n        } else {\n          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = "".concat(supports);\n        } else {\n          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n//# sourceURL=webpack://@webhighlights/shared-components/../../node_modules/css-loader/dist/runtime/api.js?')},"../../node_modules/css-loader/dist/runtime/noSourceMaps.js":module=>{"use strict";eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack://@webhighlights/shared-components/../../node_modules/css-loader/dist/runtime/noSourceMaps.js?")},"./src/components/promo-code/index.scss":(module,__unused_webpack_exports,__webpack_require__)=>{eval('\n        var result = __webpack_require__(/*! !!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/postcss-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js!./index.scss */ "../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./src/components/promo-code/index.scss");\n\n        if (result && result.__esModule) {\n            result = result.default;\n        }\n\n        if (typeof result === "string") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n//# sourceURL=webpack://@webhighlights/shared-components/./src/components/promo-code/index.scss?')},"./src/components/promo-code/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebHighlightsPromoCode: () => (/* binding */ WebHighlightsPromoCode)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ "lit");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lit__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ "lit/decorators.js");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.scss */ "./src/components/promo-code/index.scss");\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _webhighlights_shared_lib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @webhighlights/shared-lib */ "@webhighlights/shared-lib");\n/* harmony import */ var _webhighlights_shared_lib__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_webhighlights_shared_lib__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _webhighlights_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webhighlights-element */ "./src/webhighlights-element/index.ts");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nconst CUSTOM_ELEMENT_NAME = \'webhighlights-promo-code\';\nclass WebHighlightsPromoCode extends _webhighlights_element__WEBPACK_IMPORTED_MODULE_4__.WebHighlightsElement {\n    constructor() {\n        super(...arguments);\n        this.editMode = false;\n    }\n    onPromoCodeEntered(code) {\n        this.appliedCode = code;\n        this.dispatchEvent(new CustomEvent(\'codeApplied\', {\n            bubbles: true,\n            detail: code,\n        }));\n    }\n    onPromoCodeInputChange(e) {\n        const appliedCode = e.target.value;\n        this.onPromoCodeEntered(appliedCode);\n    }\n    onAddCodeClick() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.editMode = true;\n            setTimeout(() => {\n                var _a;\n                (_a = this.promoInput) === null || _a === void 0 ? void 0 : _a.focus();\n            }, 0);\n        });\n    }\n    onDeleteDiscount() {\n        this.onPromoCodeEntered(undefined);\n    }\n    // Needed to fix weird issue with Cypress tests to avoid blur event\n    get isCypressEnv() {\n        // @ts-ignore\n        return typeof window[\'Cypress\'] !== \'undefined\';\n    }\n    onInputBlur(e) {\n        var _a;\n        const target = e.target;\n        if (!((_a = target === null || target === void 0 ? void 0 : target.value) === null || _a === void 0 ? void 0 : _a.length) && !this.isCypressEnv) {\n            this.editMode = false;\n        }\n    }\n    get isLoading() {\n        var _a, _b;\n        return this.appliedCode && ((_b = (_a = this.price) === null || _a === void 0 ? void 0 : _a.discount) === null || _b === void 0 ? void 0 : _b.code) !== this.appliedCode;\n    }\n    get errorMsg() {\n        var _a;\n        switch ((_a = this.price.discount) === null || _a === void 0 ? void 0 : _a.status) {\n            case \'INVALID\':\n                return \'Code is not valid\';\n            case \'EXPIRED\':\n                return \'Code has expired.\';\n            case \'NOT_APPLICABLE\':\n                return \'Code can not be used with this account.\';\n            default:\n                return \'\';\n        }\n    }\n    get discountSubInfo() {\n        if (!this.price.discount)\n            return \'\';\n        const intervalInfo = `for a ${this.price.interval}`;\n        if ((0,_webhighlights_shared_lib__WEBPACK_IMPORTED_MODULE_3__.isRelativeDiscount)(this.price.discount)) {\n            return `${this.price.discount.value.value * 100}% off ${intervalInfo}`;\n        }\n        if ((0,_webhighlights_shared_lib__WEBPACK_IMPORTED_MODULE_3__.isAbsoluteDiscount)(this.price.discount)) {\n            return `${!this.price.displaySymbolAfterAmount ? this.price.currencySymbol : \'\'}${this.price.discount.value.amount}${this.price.displaySymbolAfterAmount ? this.price.currencySymbol : \'\'} off ${intervalInfo}`;\n        }\n        return \'\';\n    }\n    render() {\n        var _a, _b, _c, _d, _e;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n      ${((_a = this.price.discount) === null || _a === void 0 ? void 0 : _a.code) && this.price.discount.status === \'VALID\'\n            ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n            <span data-testid="promo-tag" class="promo-tag"\n              >${(_b = this.price.discount) === null || _b === void 0 ? void 0 : _b.code}<webhighlights-icon\n                @click=${this.onDeleteDiscount}\n                icon="delete-x"\n                data-testid="delete-promo-tag"\n                size="16"\n              ></webhighlights-icon\n            ></span>\n            <span data-testid="promo-tag-subinfo" class="promo-tag-subinfo"\n              >${this.discountSubInfo}</span\n            >\n          `\n            : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n            ${this.editMode || ((_c = this.price.discount) === null || _c === void 0 ? void 0 : _c.code)\n                ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n                  <div class="add-promo-input-container">\n                    <div class="input-wrapper">\n                      <input\n                        id="promo-input"\n                        data-testid="promo-code-input"\n                        @change=${this.onPromoCodeInputChange}\n                        @blur=${this.onInputBlur}\n                        value=${(_e = (_d = this.price.discount) === null || _d === void 0 ? void 0 : _d.code) !== null && _e !== void 0 ? _e : \'\'}\n                        class="promo-input"\n                        autocomplete="off"\n                        autocorrect="off"\n                        spellcheck="false"\n                        type="text"\n                        placeholder="Add promotion code"\n                      />\n                      <button\n                        class="apply-btn"\n                        data-testid="promo-code-apply-btn"\n                      >\n                        ${this.isLoading\n                    ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n                              <webhighlights-loading\n                                type="spinner"\n                              ></webhighlights-loading>\n                            `\n                    : \'Apply\'}\n                      </button>\n                    </div>\n                    ${this.errorMsg\n                    ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n                          <span\n                            data-testid="promo-code-error-hint"\n                            class="error-hint"\n                            >${this.errorMsg}</span\n                          >\n                        `\n                    : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) ``}\n                  </div>\n                `\n                : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n                  <button\n                    data-testid="add-promo-code-btn"\n                    class="add-code-btn"\n                    @click=${this.onAddCodeClick}\n                  >\n                    Add promotion code\n                  </button>\n                `}\n          `}\n    `;\n    }\n}\nWebHighlightsPromoCode.styles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `\n    ${(0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)((_index_scss__WEBPACK_IMPORTED_MODULE_2___default()))}\n  `;\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WebHighlightsPromoCode.prototype, "price", void 0);\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WebHighlightsPromoCode.prototype, "editMode", void 0);\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WebHighlightsPromoCode.prototype, "appliedCode", void 0);\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.query)(\'#promo-input\')\n], WebHighlightsPromoCode.prototype, "promoInput", void 0);\nif (!(0,_webhighlights_shared_lib__WEBPACK_IMPORTED_MODULE_3__.customElementIsRegistered)(CUSTOM_ELEMENT_NAME)) {\n    customElements.define(CUSTOM_ELEMENT_NAME, WebHighlightsPromoCode);\n}\n\n\n//# sourceURL=webpack://@webhighlights/shared-components/./src/components/promo-code/index.ts?')},"./src/webhighlights-element/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebHighlightsElement: () => (/* binding */ WebHighlightsElement)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ "lit");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lit__WEBPACK_IMPORTED_MODULE_0__);\n\nclass WebHighlightsElement extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n    constructor() {\n        super();\n    }\n}\n\n\n//# sourceURL=webpack://@webhighlights/shared-components/./src/webhighlights-element/index.ts?')},"lit/decorators.js":e=>{"use strict";e.exports=LitDecoratorsExternal},lit:e=>{"use strict";e.exports=LitExternal},"@webhighlights/shared-lib":e=>{"use strict";e.exports=WebHighlightsSharedLibExternal}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var _=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](_,_.exports,__webpack_require__),_.exports}__webpack_require__.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=(e,n)=>{for(var _ in n)__webpack_require__.o(n,_)&&!__webpack_require__.o(e,_)&&Object.defineProperty(e,_,{enumerable:!0,get:n[_]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/components/promo-code/index.ts")})();