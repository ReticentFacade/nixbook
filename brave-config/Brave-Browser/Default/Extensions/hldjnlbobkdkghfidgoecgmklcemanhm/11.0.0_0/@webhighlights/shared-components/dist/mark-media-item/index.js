/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={84092:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(36758),o=i.n(r),n=i(40935),s=i.n(n)()(o());s.push([t.id,".wh-loading-skeleton{color:rgba(0,0,0,0);opacity:.8;animation:1.25s linear 0s infinite normal none running loadingBlinking}@keyframes loadingBlinking{0%{background:rgba(140,140,140,.15)}70%{background:rgba(67,79,86,.15)}100%{background:rgba(112,145,169,.15)}}:host{font-family:var(--wh-font-family);box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host{--show-more-text-color: var(--wh-text-lighter);--mark-blockquote-primary-color: #00b077;display:flex;flex-wrap:wrap;width:100%;font-family:var(--wh-font-family)}header{display:flex;margin-left:auto;align-items:center;-moz-column-gap:6px;column-gap:6px}.delete-btn{background:none;outline:none;border:none;width:14px;height:14px;color:var(--wh-text-light);padding:0;cursor:pointer}.delete-btn:hover{color:var(--wh-text)}webhighlights-clipboard-button{--clipboard-icon-color: var(--wh-text-light);--clipboard-icon-color-hover: var(--wh-text);--clipboard-btn-width: 14px;--clipboard-btn-height: 14px;margin-left:auto}.media-item{width:100%;color:var(--wh-text);padding:6px 0px}.media-item>*{-webkit-user-select:text;-moz-user-select:text;user-select:text}.media-item.blockquote>*,.media-item.paragraph>*,.media-item.bulletListItem>*{color:var(--wh-text-light);line-height:1.4;line-height:var(--wh-blockquote-line-height, 1.4);font-size:14px;font-size:var(--wh-font-size, 14px);margin:0}.media-item.code{white-space:pre;width:100%;overflow-x:auto;background:var(--wh-bg-back-strong);margin:4px 0}.media-item.paragraph p{line-break:auto;white-space:pre-line}.media-item.bulletListItem{padding:2px 0}.media-item.bulletListItem ul{padding-left:20px}.media-item.bulletListItem li{line-break:auto;white-space:pre-line}.media-item.heading1{padding:14px 0 6px 0}.media-item.heading1 h1{font-size:20px;line-height:1.3;font-weight:600;margin:0}.media-item.heading2{padding:10px 0 6px 0}.media-item.heading2 h2{font-size:18px;line-height:1.3;margin:14px 0 6px 0;font-weight:600;margin:0}.media-item.heading3{padding:8px 0 6px 0}.media-item.heading3 h3{font-size:16px;line-height:1.1;font-weight:600;margin:0}blockquote{line-height:1.4;line-height:var(--wh-blockquote-line-height, 1.4);font-size:14px;font-size:var(--wh-font-size, 14px);padding:5px 0px 8px 12px;padding:var(--mark-blockquote-padding, 5px 0px 8px 12px);box-sizing:content-box;position:relative;text-align:justify;word-break:break-word;margin:0;width:-moz-fit-content;width:fit-content;color:var(--wh-text-light);color:var(--wh-text-lighter)}blockquote span{line-break:auto;white-space:pre-line}blockquote mark{color:var(--wh-text);color:var(--blockquote-mark-color, var(--wh-text))}.show-more-button{line-height:1.4;line-height:var(--wh-blockquote-line-height, 1.4);font-size:14px;font-size:var(--wh-font-size, 14px);color:var(--show-more-text-color);cursor:pointer;text-decoration:none;padding:0;background:none;border:none}.show-more-button:hover{text-decoration:underline}.mark-image-container{position:relative;cursor:default}.mark-image-container:hover .expand-image-btn{display:flex}.expand-image-btn{display:none;padding:2px;align-items:center;justify-content:center;position:absolute;transition:all .2s ease-in-out;left:2px;top:2px;width:20px;height:20px;border:none;cursor:pointer;border-radius:50%;background:var(--wh-bg-back);opacity:.65;color:var(--wh-text-strongest);fill:var(--wh-text-strongest)}.expand-image-btn:hover{opacity:.9}.expand-image-btn .icon{color:var(--wh-text-strongest);fill:var(--wh-text-strongest)}.mark-image{max-width:100%;-o-object-fit:contain;object-fit:contain;max-height:300px}",""]);const a=s},40935:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",r=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),r&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),r&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,r,o,n){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var h=this[a][0];null!=h&&(s[h]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);r&&s[c[0]]||(void 0!==n&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=n),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},36758:t=>{"use strict";t.exports=function(t){return t[1]}},38773:(t,e,i)=>{var r=i(84092);r&&r.__esModule&&(r=r.default),t.exports="string"==typeof r?r:r.toString()},30827:(t,e,i)=>{"use strict";i.d(e,{y:()=>n});var r=i(38085),o=i(93811);class n extends o.LitElement{constructor(){super(...arguments),this.components=[]}connectedCallback(){super.connectedCallback(),(0,r.lazyDefine)(this.components)}static define(t,e,i){(0,r.defineWebHighlightsElement)(t,e,i)}}},95665:t=>{"use strict";t.exports=LitDecoratorsExternal},93811:t=>{"use strict";t.exports=LitExternal},38085:t=>{"use strict";t.exports=WebHighlightsSharedLibExternal},31006:(t,e,i)=>{"use strict";i.d(e,{J:()=>o});var r=i(80181);const o=t=>t??r.s6},80181:(t,e,i)=>{"use strict";i.d(e,{s6:()=>k});const r=globalThis,o=r.trustedTypes,n=o?o.createPolicy("lit-html",{createHTML:t=>t}):void 0,s="$lit$",a=`lit$${Math.random().toFixed(9).slice(2)}$`,h="?"+a,l=`<${h}>`,c=document,d=()=>c.createComment(""),p=t=>null===t||"object"!=typeof t&&"function"!=typeof t,m=Array.isArray,g="[ \t\n\f\r]",u=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,x=/-->/g,v=/>/g,f=RegExp(`>|${g}(?:([^\\s"'>=/]+)(${g}*=${g}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),$=/'/g,A=/"/g,_=/^(?:script|style|textarea|title)$/i,b=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),y=(b(1),b(2),b(3),Symbol.for("lit-noChange")),k=Symbol.for("lit-nothing"),w=new WeakMap,T=c.createTreeWalker(c,129);function E(t,e){if(!m(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==n?n.createHTML(e):e}const M=(t,e)=>{const i=t.length-1,r=[];let o,n=2===e?"<svg>":3===e?"<math>":"",h=u;for(let e=0;e<i;e++){const i=t[e];let c,d,p=-1,m=0;for(;m<i.length&&(h.lastIndex=m,d=h.exec(i),null!==d);)m=h.lastIndex,h===u?"!--"===d[1]?h=x:void 0!==d[1]?h=v:void 0!==d[2]?(_.test(d[2])&&(o=RegExp("</"+d[2],"g")),h=f):void 0!==d[3]&&(h=f):h===f?">"===d[0]?(h=o??u,p=-1):void 0===d[1]?p=-2:(p=h.lastIndex-d[2].length,c=d[1],h=void 0===d[3]?f:'"'===d[3]?A:$):h===A||h===$?h=f:h===x||h===v?h=u:(h=f,o=void 0);const g=h===f&&t[e+1].startsWith("/>")?" ":"";n+=h===u?i+l:p>=0?(r.push(c),i.slice(0,p)+s+i.slice(p)+a+g):i+a+(-2===p?e:g)}return[E(t,n+(t[i]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),r]};class S{constructor({strings:t,_$litType$:e},i){let r;this.parts=[];let n=0,l=0;const c=t.length-1,p=this.parts,[m,g]=M(t,e);if(this.el=S.createElement(m,i),T.currentNode=this.el.content,2===e||3===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=T.nextNode())&&p.length<c;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(s)){const e=g[l++],i=r.getAttribute(t).split(a),o=/([.?@])?(.*)/.exec(e);p.push({type:1,index:n,name:o[2],strings:i,ctor:"."===o[1]?D:"?"===o[1]?P:"@"===o[1]?z:I}),r.removeAttribute(t)}else t.startsWith(a)&&(p.push({type:6,index:n}),r.removeAttribute(t));if(_.test(r.tagName)){const t=r.textContent.split(a),e=t.length-1;if(e>0){r.textContent=o?o.emptyScript:"";for(let i=0;i<e;i++)r.append(t[i],d()),T.nextNode(),p.push({type:2,index:++n});r.append(t[e],d())}}}else if(8===r.nodeType)if(r.data===h)p.push({type:2,index:n});else{let t=-1;for(;-1!==(t=r.data.indexOf(a,t+1));)p.push({type:7,index:n}),t+=a.length-1}n++}}static createElement(t,e){const i=c.createElement("template");return i.innerHTML=t,i}}function C(t,e,i=t,r){if(e===y)return e;let o=void 0!==r?i._$Co?.[r]:i._$Cl;const n=p(e)?void 0:e._$litDirective$;return o?.constructor!==n&&(o?._$AO?.(!1),void 0===n?o=void 0:(o=new n(t),o._$AT(t,i,r)),void 0!==r?(i._$Co??=[])[r]=o:i._$Cl=o),void 0!==o&&(e=C(t,o._$AS(t,e.values),o,r)),e}class H{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,r=(t?.creationScope??c).importNode(e,!0);T.currentNode=r;let o=T.nextNode(),n=0,s=0,a=i[0];for(;void 0!==a;){if(n===a.index){let e;2===a.type?e=new N(o,o.nextSibling,this,t):1===a.type?e=new a.ctor(o,a.name,a.strings,this,t):6===a.type&&(e=new O(o,this,t)),this._$AV.push(e),a=i[++s]}n!==a?.index&&(o=T.nextNode(),n++)}return T.currentNode=c,r}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class N{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,r){this.type=2,this._$AH=k,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=C(this,t,e),p(t)?t===k||null==t||""===t?(this._$AH!==k&&this._$AR(),this._$AH=k):t!==this._$AH&&t!==y&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):(t=>m(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==k&&p(this._$AH)?this._$AA.nextSibling.data=t:this.T(c.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,r="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=S.createElement(E(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===r)this._$AH.p(e);else{const t=new H(r,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=w.get(t.strings);return void 0===e&&w.set(t.strings,e=new S(t)),e}k(t){m(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,r=0;for(const o of t)r===e.length?e.push(i=new N(this.O(d()),this.O(d()),this,this.options)):i=e[r],i._$AI(o),r++;r<e.length&&(this._$AR(i&&i._$AB.nextSibling,r),e.length=r)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class I{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,r,o){this.type=1,this._$AH=k,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=k}_$AI(t,e=this,i,r){const o=this.strings;let n=!1;if(void 0===o)t=C(this,t,e,0),n=!p(t)||t!==this._$AH&&t!==y,n&&(this._$AH=t);else{const r=t;let s,a;for(t=o[0],s=0;s<o.length-1;s++)a=C(this,r[i+s],e,s),a===y&&(a=this._$AH[s]),n||=!p(a)||a!==this._$AH[s],a===k?t=k:t!==k&&(t+=(a??"")+o[s+1]),this._$AH[s]=a}n&&!r&&this.j(t)}j(t){t===k?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class D extends I{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===k?void 0:t}}class P extends I{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==k)}}class z extends I{constructor(t,e,i,r,o){super(t,e,i,r,o),this.type=5}_$AI(t,e=this){if((t=C(this,t,e,0)??k)===y)return;const i=this._$AH,r=t===k&&i!==k||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,o=t!==k&&(i===k||r);r&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class O{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){C(this,t)}}const B=r.litHtmlPolyfillSupport;B?.(S,N),(r.litHtmlVersions??=[]).push("3.2.1")},73764:(t,e,i)=>{"use strict";i.d(e,{J:()=>r.J});var r=i(31006)}},e={};function i(r){var o=e[r];if(void 0!==o)return o.exports;var n=e[r]={id:r,exports:{}};return t[r](n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=i(38085),e=i(93811),r=i(95665),o=i(73764),n=i(30827),s=i(38773),a=i.n(s),h=function(t,e,i,r){var o,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(n<3?o(s):n>3?o(e,i,s):o(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s};const l=t.SHARED_COMPONENTS.MarkMediaItem,c=l.TAG;class d extends n.y{constructor(){super(...arguments),this.hideFullText=!1,this.isDiscoverFeed=(0,t.isDiscoverFeedUrl)(location.href),this.maxCharactersBefore=80,this.maxCharactersAfter=80,this.components=[t.SHARED_COMPONENTS.Icon.TAG]}dispatchCustomEvent(t){this.dispatchEvent(new CustomEvent(t,{bubbles:!0}))}onCopyText(){this.dispatchCustomEvent("copied")}onDeleteClick(){(0,t.deleteMark)(this.mark)}get startText(){return(0,t.getStartTextFromMark)(this.mark)}get truncatedStartText(){return this.hideFullText?"":(0,t.truncateString)(this.startText,this.maxCharactersBefore,{reverse:!0,truncateSymbol:" "})}get endText(){return(0,t.getEndTextFromMark)(this.mark)}get truncatedEndText(){return this.hideFullText?"":(0,t.truncateString)(this.endText,this.maxCharactersAfter,{reverse:!1,truncateSymbol:"  "})}get highlightBackgroundColor(){var t;return this.hideFullText||!this.startText.length&&!this.endText.length?"none":null===(t=this.mark)||void 0===t?void 0:t.color}onShowMoreText(t){"start"===t?this.maxCharactersBefore=this.maxCharactersBefore+160:this.maxCharactersAfter=this.maxCharactersAfter+160}displayShowMoreTextBtn(t){return!this.hideFullText&&("start"===t?this.startText.length>this.maxCharactersBefore:"end"===t?this.endText.length>this.maxCharactersAfter:void 0)}onExpandImage(e){(0,t.showDialog)({keepCurrentDialog:!0,dialogName:"image-viewer",options:{props:{src:e.imageSrc,alt:e.imageAlt},closable:!0}})}get mediaItem(){var i,r;return this.mark.mediaType===t.MARK_MEDIA_TYPE.PARAGRAPH?e.html`<p>${this.mark.text}</p>`:this.mark.mediaType===t.MARK_MEDIA_TYPE.HEADING_1?e.html`<h1>${this.mark.text}</h1>`:this.mark.mediaType===t.MARK_MEDIA_TYPE.HEADING_2?e.html`<h2>${this.mark.text}</h2>`:this.mark.mediaType===t.MARK_MEDIA_TYPE.HEADING_3?e.html`<h3>${this.mark.text}</h3>`:this.mark.mediaType===t.MARK_MEDIA_TYPE.BULLET_LIST_ITEM?e.html`<ul>
        <li>${this.mark.text}</li>
      </ul>`:this.mark.mediaType===t.MARK_MEDIA_TYPE.CODE?e.html` <code>${this.mark.text}</code>`:(0,t.isImageMark)(this.mark)?e.html`<div class="mark-image-container">
        <button
          class="expand-image-btn"
          title="Expand image"
          data-testid=${l.TEST_IDS.EXPAND_IMG}
          @click=${e=>{e.preventDefault(),(0,t.stopPropagation)(e),this.onExpandImage(this.mark)}}
        >
          <webhighlights-icon
            class="icon"
            icon=${t.ICON_NAMES["maximize-2"]}
            size="12"
          ></webhighlights-icon>
        </button>
        <img
          class="mark-image"
          src="${this.mark.imageSrc||"Highlighted image"}"
          alt="${this.mark.imageAlt||"Highlighted image"}"
        />
      </div>`:e.html`<blockquote
      style="border-left: 4px solid ${null!==(r=null===(i=this.mark)||void 0===i?void 0:i.color)&&void 0!==r?r:t.fallbackChromeSettings.defaultHighlightColor}"
      cite="${(0,o.J)(this.isDiscoverFeed?this.mark.url:void 0)}"
      part="blockquote"
    >
      ${this.displayShowMoreTextBtn("start")?e.html`
            <button
              class="show-more-button"
              @click=${()=>this.onShowMoreText("start")}
            >
              [...]
            </button>
          `:e.html``}
      <span
        >${this.truncatedStartText.trimStart()}<mark
          part="mark"
          style="background: ${this.highlightBackgroundColor};"
          >${this.mark.text}</mark
        >${this.truncatedEndText.trimEnd()}</span
      >
      ${this.displayShowMoreTextBtn("end")?e.html`
            <button
              class="show-more-button"
              @click=${()=>this.onShowMoreText("end")}
            >
              [...]
            </button>
          `:e.html``}
    </blockquote>`}render(){var i;return e.html`<div
      class="media-item ${(0,t.isAcceptedMediaType)(null===(i=this.mark)||void 0===i?void 0:i.mediaType)?this.mark.mediaType:t.DEFAULT_MEDIA_TYPE}"
    >
      ${this.mediaItem}
    </div>`}}d.styles=e.css`
    ${(0,e.unsafeCSS)(a())}
  `,h([(0,r.property)()],d.prototype,"mark",void 0),h([(0,r.property)()],d.prototype,"hideFullText",void 0),h([(0,r.property)()],d.prototype,"maxCharactersBefore",void 0),h([(0,r.property)()],d.prototype,"maxCharactersAfter",void 0),n.y.define(c,d)})()})();