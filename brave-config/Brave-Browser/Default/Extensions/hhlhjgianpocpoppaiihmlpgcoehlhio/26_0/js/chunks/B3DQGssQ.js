class e{static formatMatch(e,t,{scheme:n=!0,query:s=!0,fragment:a=!1,decode:r=!0}={}){const o=e instanceof URL&&e||new URL(e);let i=o.hostname;return n&&(i=`${o.protocol}//${i}`),o.port.length>0&&(i+=`:${o.port}`),i+=o.pathname,s&&o.search.length>0&&(i+=o.search),a&&o.hash.length>0&&(i+=o.hash),r?decodeURI(i):i}static async sortDocuments(e,t=(e=>Promise.resolve(e.date))){const n=new Map;return await Promise.all(e.map((e=>t(e).then((t=>n.set(e._id,t))).catch((()=>{}))))),e.slice().sort(((e,t)=>{const s=n.get(e._id),a=n.get(t._id);return void 0===s?void 0===a?0:-1:void 0===a?void 0===s?0:1:"string"==typeof s?s.localeCompare(a):s-a}))}}class t{static substring(e,t){return e.length>t?e.substring(0,t-1)+"â€¦":e.substring(0,t)}static formatBytes(e,t=!1,n=1){const s=t?1e3:1024;if(Math.abs(e)<s)return e+" B";const a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let r=-1;const o=10**n;do{e/=s,++r}while(Math.round(Math.abs(e)*o)/o>=s&&r<a.length-1);return e.toFixed(n)+" "+a[r]}static#e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}static newRandomID({beginWithLetter:e=!0,length:t=8}={}){let n;if(36===t)n=`${this.#e()}${this.#e()}-${this.#e()}-${this.#e()}-${this.#e()}-${this.#e()}${this.#e()}${this.#e()}`;else{n="";for(let e=0;e<Math.ceil(t/4);e++)n+=this.#e()}if(e){const e=parseInt(n[0]);Number.isInteger(e)&&(n=(e%6+10).toString(16)+n.substring(1))}return t%4==0?n:n.substring(0,t)}}class n{static camelCaseToAttribute(e){return"data-"+n.camelCaseToHyphen(e)}static camelCaseToHyphen(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}class s{static async serial(e){return e.reduce(((e,t)=>e.then((e=>t().then(Array.prototype.concat.bind(e))))),Promise.resolve([]))}}class a{static toObject(e){return{startContainerPath:r.getXPath(e.startContainer),startOffset:e.startOffset,endContainerPath:r.getXPath(e.endContainer),endOffset:e.endOffset,collapsed:e.collapsed}}static toRange(e,t=window.document){let n,s;const a=new XPathEvaluator,r=a.evaluate(e.startContainerPath,t.documentElement,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);if(!r.singleNodeValue)return null;if(e.collapsed||!e.endContainerPath)n=r,s=e.startOffset;else{if(n=a.evaluate(e.endContainerPath,t.documentElement,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null),!n.singleNodeValue)return null;s=e.endOffset}const o=t.createRange();return o.setStart(r.singleNodeValue,e.startOffset),o.setEnd(n.singleNodeValue,s),o}}class r{static getXPath(e){let t=[];for(;e&&(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE);e=e.parentNode){let n=[],s=(()=>{switch(e.nodeType){case Node.ELEMENT_NODE:return e.nodeName.toLowerCase();case Node.TEXT_NODE:return"text()"}})();if(e.nodeType===Node.ELEMENT_NODE&&e.id.length>0){if(1===e.ownerDocument.querySelectorAll(`#${CSS.escape(e.id)}`).length){t.unshift(`/${s}[@id="${e.id}"]`);break}e.parentElement&&!Array.prototype.slice.call(e.parentElement.children).some((t=>t!==e&&t.id===e.id))&&n.push(`@id="${e.id}"`)}if(0===n.length){let t=1;for(let n=e.previousSibling;n;n=n.previousSibling)n.nodeType!==Node.DOCUMENT_TYPE_NODE&&e.nodeType===n.nodeType&&n.nodeName===e.nodeName&&t++;t>1&&n.push(`${t}`)}t.unshift(s+n.map((e=>`[${e}]`)).join(""))}return 0===t.length?"":`/${t.join("/")}`}}class o{static createExtensionAssetURL(e){const t=new URL(chrome.i18n.getMessage("extension_company_url"));return t.pathname=`/assets/supersimplehighlighter/${e}`,t}}class i{static isEmpty(e){for(const t in e)if(Object.hasOwn(e,t))return!1;return!0}}export{e as D,i as O,s as P,a as R,t as S,o as U,n as a};
