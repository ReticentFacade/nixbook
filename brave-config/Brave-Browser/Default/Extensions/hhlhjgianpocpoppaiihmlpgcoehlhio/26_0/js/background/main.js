import{D as e,c as s,e as a,f as t,g as n}from"../chunks/CAmFpRSf.js";import{C as i,a as r}from"../chunks/BhAH5UWs.js";import{C as c}from"../chunks/cMonL6jB.js";import"../chunks/B3DQGssQ.js";import"../../static/js/pouchdb-8.0.1-supersimplehighlighter.min.js";class d{static addListeners(){chrome.runtime.onInstalled.addListener(d.#e),chrome.runtime.onStartup.addListener(d.#s)}static async#e(){try{const s=new e;await s.ensureDesignDocuments("auto"),await s.fixupIfRequired()}finally{}}static async#s(){const s=new e;try{await s.fixupIfRequired(),await s.cleanupViews(),await s.cleanupDocuments()}finally{}}}class o{static addListeners(){chrome.storage?.onChanged.addListener(o.#a)}static async#a(e,s){if(Object.keys(e).filter((e=>e.startsWith("__"))).forEach((s=>{delete e[s]})),0!==Object.entries(e).length)return c.sendMessage({id:"__on_storage_changed",changes:e,areaName:s})}}!async function(){await s.contains("webNavigation")?a.setListener():(t.addListeners(),await n.createSelectionMenu())}(),d.addListeners(),i.addListeners(),o.addListeners(),r.addListeners(),n.addListeners();
