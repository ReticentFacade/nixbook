<!doctype html> <html ng-app="app" ng-csp> <head lang="en"> <meta charset="UTF-8"> <title>something/anything</title> <link href="/static/css/angular-csp.css" rel="stylesheet"> <link href="/static/css/bootstrap.min.css" rel="stylesheet"> <link href="/css/popup.css" rel="stylesheet"> <link href="/css/dark.css" rel="stylesheet"> <script src="/static/js/jquery-3.6.0.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/angular.min.js"></script> <script type="module" src="/js/popup/main.js"></script> </head> <!-- #Do what you like so long as you don't make my mistake. For it was a mistake. Live! --> <body> <div class="container-fluid" ng-controller="popupController"> <div class="clearfix header"> <div class="dropdown btn-group"> <button class="btn btn-default btn-sm dropdown-toggle" type="button" id="menu-hamburger" title="{{ manifest.name }}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <span class="glyphicon glyphicon-menu-hamburger"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="menu-hamburger"> <li role="presentation"> <a href="#" role="menuitem" ng-click="onClickUndoLastHighlight()"> {{'undo' | i18n}} </a> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <a href="#" role="menuitem" data-toggle="modal" data-target=".bs-example-modal-sm"> <span class="text-danger">{{'remove_all_highlights' | i18n}}</span> </a> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <a role="menuitem" href="#" ng-click="onClickOpenOptionsPage()">{{'options_page_title' | i18n}}…</a> </li> <li role="presentation"> <a role="menuitem" ng-href="{{ helpUrl }}" target="_blank">{{'help' | i18n}}</a> </li> </ul> </div> <div class="btn-group mr-auto ml-4 dropdown"> <button type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" id="dropdownMenuOverview"> {{'overview_page' | i18n}} <span class="caret"></span> </button> <ul class="dropdown-menu" aria-labelledby="dropdownMenuOverview"> <li role="presentation"> <a role="menuitem" href="#" ng-click="onClickOpenOverview()">{{'open' | i18n}}</a> </li> <li role="separator" class="divider"></li> <li role="presentation"> <a role="menuitem" href="#" ng-click="onClickSaveOverview()">{{'save_overview' | i18n}}</a> </li> <li role="presentation"> <a role="menuitem" href="#" ng-click="onClickCopyOverview()">{{'copy_overview' | i18n}}</a> </li> </ul> </div> <div class="header-control header-control-group"> <select class="form-control input-sm" id="sel1" ng-model="sort.value"> <option value="time">{{'sort_by_time' | i18n}}</option> <option value="location">{{'sort_by_location' | i18n}}</option> <option value="style">{{'sort_by_style' | i18n}}</option> </select> <button id="btn-sort-invert" class="btn btn-sm btn-default ml-4" type="button" title="{{'title_sort_direction' | i18n}}" ng-class="{'sort-inverted': sort.invert === true}" ng-click="sort.invert = !sort.invert"> <span class="glyphicon glyphicon-sort" aria-hidden="true"></span> </button> </div> <div class="header-control"> <input id="input-search" type="search" class="form-control input-sm search" placeholder="{{'placeholder_filter' | i18n}}" autofocus ng-model="search.text"> </div> </div> <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true"> <div class="modal-dialog modal-sm"> <div class="modal-content"> <div class="modal-body"> <p>{{'confirm_remove_all_highlights_single' | i18n}}</p> </div> <div class="modal-footer modal-footer-no-border"> <button type="button" class="btn btn-default" data-dismiss="modal"> {{'cancel' | i18n}} </button> <button type="button" class="btn btn-danger" data-ng-click="onClickRemoveAllHighlights()"> {{'remove_all_highlights' | i18n}} </button> </div> </div> </div> </div> <h3 class="header-progress text-center text-muted ng-hide" ng-show="!isUpdated" ng-style="{
          'opacity': isProgressVisible ? 1 : 0,
          'translate': isProgressVisible ? 'none' : '0 2rem'
         }"> {{ progressStatus }} </h3> <div class="row ng-hide" ng-show="isUpdated && !isPermissionGranted"> <div class="col-xs-12"> <div class="alert alert-danger text-center" role="alert"> {{ 'warning_default_permissions_required' | i18n }} <button type="button" class="btn btn-danger btn-block" ng-click="onClickRequestPermission()"> {{ 'request_permission' | i18n }} </button> </div> </div> </div> <div class="row ng-hide" ng-show="isUpdated && needsReload"> <div class="col-xs-12"> <div class="alert alert-info" role="alert"> Reload this page to update highlights <button type="button" class="btn btn-info btn-block" ng-click="onClickReload()"> <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> {{ 'reload' | i18n }} </button> </div> </div> </div> <h3 class="ng-hide text-center text-muted" ng-show="isUpdated && !groupedDocs.length"> {{ 'popup_no_highlights' | i18n }} </h3> <ol class="list-unstyled ng-hide" ng-show="isUpdated"> <li ng-repeat="group in groupedDocs | filter:(filters.group) track by $index"> <h5 class="group-header text-muted {{ group.style_missing ? 'style-missing' : '' }}" ng-show="group.title"> {{ group.title }} </h5> <ol class="list-unstyled"> <li ng-repeat="doc in (group.docs | filter:filters.text) track by doc._id" id="{{doc._id}}" class="doc {{ doc.notInDOM || doc.noHighlightDefined ? 'not-in-dom' : '' }}" ng-mouseenter="doc.hover=true" ng-mouseleave="doc.hover=false"> <div class="pull-left highlight highlight-text-container pointer {{ doc.className}} {{ sharedHighlightClassName }}" ng-mouseenter="onMouseEnterHighlight(doc)" ng-mouseleave="onMouseLeaveHighlight()"> <div class="dropdown dropbox-font-reset pull-right"> <button class="btn btn-link btn-xs dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span> </button> <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1"> <li> <a href="#" ng-click="onClickCopyHighlight(doc)" title="{{ 'tooltip_copy_highlight' | i18n }}">{{'copy_highlight_text' | i18n}}</a> </li> <li> <a href="#" ng-click="doc.notInDOM ? null : onClickSelectHighlight(doc)" title="{{ 'tooltip_select_highlight' | i18n }}">{{'select_highlight_text' | i18n}}</a> </li> <li role="separator" class="divider {{ containsTTSPermission ? '' : 'ng-hide' }}"></li> <li class="{{ containsTTSPermission ? '' : 'ng-hide' }}"> <a href="#" ng-click="onClickSpeakHighlight(doc); $event.currentTarget.blur()" title="{{ 'tooltip_speak_highlight' | i18n }}">{{'speak_highlight_text' | i18n}}</a> </li> <li role="separator" class="divider {{ doc.isTextTrimmed || doc._expandedTextLength <= popupHighlightTextMaxLength ? 'ng-hide' : '' }}"></li> <li class="{{ doc.isTextTrimmed || doc._expandedTextLength <= popupHighlightTextMaxLength ? 'ng-hide' : '' }}"> <a href="#" ng-click="onClickTrimHighlight(doc);">{{'trim_snippet' | i18n}}</a> </li> <li role="separator" class="divider"></li> <li> <a href="#" ng-click="onClickRemoveHighlight(doc);"><span class="text-danger">{{'remove_highlight' | i18n}}</span></a> </li> <li role="separator" class="divider"></li> <li ng-repeat="d in highlightDefinitions track by d.className" class="{{ d.blockquote == doc.isBlockQuote ? '' : 'ng-hide' }}"> <a class="menuitem-highlight-definition {{ d.hidden ? 'ng-hide' : ''}}" role="menuitem" tabindex="-1" href="" ng-click="onClickDefineHighlight(doc, highlightDefinitions[$index])"> <span class="redefinition-well-sm {{ highlightClassName }} {{ d.className }}"> <span class="{{ d['text_color_equals_background'] ? 'text-blend-difference' : '' }}"> {{d.title}} </span> </span> <span class="glyphicon glyphicon-ok menuitem-checked {{ doc.className != d.className ? 'ng-hide' : '' }}" aria-hidden="true"></span> </a> </li> </ul> </div> <p ng-click="onClickHighlightText(doc)" class="highlight-text" title="{{ doc.date | date:(sort.value === 'time'? 'mediumTime' : 'medium') }}"> <span class="highlight-text-content {{ doc['_textColorEqualsBackground'] ? 'text-blend-difference' : ''}}"> {{ doc.text }}{{ !doc.expanded && (doc.isTextTrimmed || doc._expandedTextLength > popupHighlightTextMaxLength) ? "…" : ""}}</span> <a href="#" class="{{ !doc.expanded && (doc.isTextTrimmed || doc._expandedTextLength > popupHighlightTextMaxLength) ? '' : 'ng-hide' }}" ng-click="onClickExpandHighlight(doc)"> {{ 'more' | i18n }} </a> <small class="text-length pull-right {{ !doc.isTextTrimmed && doc._expandedTextLength <= popupHighlightTextMaxLength ? 'ng-hide' : '' }}"> <span class="glyphicon glyphicon-scissors trimmed {{ doc.isTextTrimmed ? '' : 'ng-hide' }}" title="{{ 'tooltip_trimmed' | i18n }}"></span> {{ 'character_count' | i18n:(doc._expandedTextLength | number:0) }}</small> </p> <span class="error {{ doc.notInDOM ? '' : 'ng-hide' }}" title=" {{ 'list_item_title_not_in_dom' | i18n }}"></span> </div> </li> </ol> </li> </ol> </div> </body> </html> 